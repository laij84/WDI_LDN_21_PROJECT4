function oAuthConfig(o){o.facebook({url:"api/oauth/facebook",clientId:"1753104004957041"}),o.github({url:"api/oauth/github",clientId:"95023e03ef010ac16b36"}),o.twitter({url:"api/oauth/twitter",clientId:""})}function Router(o,e){o.state("home",{url:"/",templateUrl:"templates/home.html"}).state("register",{url:"/register",templateUrl:"templates/register.html",controller:"RegisterController as register"}).state("login",{url:"/login",templateUrl:"templates/login.html",controller:"LoginController as login"}),e.otherwise("/")}function LoginController(o,e,t,r){this.credentials={},this.authenticate=function(o){r.authenticate(o).then(function(){t.$broadcast("loggedIn"),e.go("home")})},this.submit=function(){r.login(this.credentials,{url:"/api/login"}).then(function(){t.$broadcast("loggedIn"),e.go("home")})}}function MainController(o,e,t,r){var n=this;this.currentUser=t.getPayload(),this.logout=function(){t.logout(),this.currentUser=null,o.go("home")},e.$on("loggedIn",function(){n.currentUser=t.getPayload(),console.log(n.currentUser)}),e.$on("unauthorized",function(){n.errorMessage="You must be logged in!",o.go("login")})}function RegisterController(o,e,t){this.user={},this.submit=function(){o.signup(this.user,{url:"/api/register"}).then(function(){t.$broadcast("loggedIn"),e.go("login")})}}function UsersController(o){this.all=o.query()}function User(o,e){return o(e+"/users",{id:"@_id"},{update:{method:"PUT"}})}angular.module("HomeworkApp",["ui.router","ngResource","angular-jwt","ngMessages","satellizer"]).constant("API_URL","http://localhost:3000/api").config(Router).config(oAuthConfig),oAuthConfig.$inject=["$authProvider"],Router.$inject=["$stateProvider","$urlRouterProvider"],angular.module("HomeworkApp").controller("LoginController",LoginController),LoginController.$inject=["User","$state","$rootScope","$auth"],angular.module("HomeworkApp").controller("MainController",MainController),MainController.$inject=["$state","$rootScope","$auth","$window"],angular.module("HomeworkApp").controller("RegisterController",RegisterController),RegisterController.$inject=["$auth","$state","$rootScope"],angular.module("HomeworkApp").controller("UsersController",UsersController),UsersController.$inject=["User"],angular.module("HomeworkApp").factory("User",User),User.$inject=["$resource","API_URL"];